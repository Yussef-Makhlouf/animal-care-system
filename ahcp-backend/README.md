# AHCP Backend - ูุธุงู ุฅุฏุงุฑุฉ ุงูุตุญุฉ ุงูุญููุงููุฉ

Backend API ูุชูุงูู ููุธุงู ุฅุฏุงุฑุฉ ุงูุตุญุฉ ุงูุญููุงููุฉ (Animal Health Care Program) ูุจูู ุจู Node.js ู Express.js ู MongoDB.

## ๐ ุงููููุฒุงุช

- **API RESTful ูุงูู** ูุน ุฌููุน ุนูููุงุช CRUD
- **ูุธุงู ูุตุงุฏูุฉ ูุชูููุถ ูุชูุฏู** ุจุงุณุชุฎุฏุงู JWT
- **ูุงุนุฏุฉ ุจูุงูุงุช MongoDB** ูุน Mongoose ODM
- **ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช** ุจุงุณุชุฎุฏุงู Joi
- **ุฑูุน ูุฅุฏุงุฑุฉ ุงููููุงุช** ูุน ูุนุงูุฌุฉ ุงูุตูุฑ
- **ุชุตุฏูุฑ ูุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช** (CSV, JSON)
- **ูุธุงู ุชูุงุฑูุฑ ูุฅุญุตุงุฆูุงุช ุดุงูู**
- **ุชูุซูู API ุชููุงุฆู** ุจุงุณุชุฎุฏุงู Swagger
- **ุฃูุงู ูุชูุฏู** ูุน Rate Limiting ู Helmet
- **ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ**
- **ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ**

## ๐ ุงููุชุทูุจุงุช

- Node.js (ุงูุฅุตุฏุงุฑ 18 ุฃู ุฃุญุฏุซ)
- MongoDB (ุงูุฅุตุฏุงุฑ 5 ุฃู ุฃุญุฏุซ)
- npm ุฃู yarn

## ๐๏ธ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
```bash
git clone <repository-url>
cd ahcp-backend
```

### 2. ุชุซุจูุช ุงูุญุฒู
```bash
npm install
```

### 3. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
ุงูุณุฎ ููู `.env.example` ุฅูู `.env` ููู ุจุชุญุฏูุซ ุงูููู:

```bash
cp .env.example .env
```

ูู ุจุชุญุฏูุซ ุงูููู `.env`:
```env
# Server Configuration
PORT=3001
NODE_ENV=development

# Database Configuration
MONGODB_URI=mongodb://localhost:27017/ahcp_database

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload Configuration
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads
```

### 4. ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
ุชุฃูุฏ ูู ุชุดุบูู MongoDB:
```bash
# ุนูู Windows
net start MongoDB

# ุนูู macOS/Linux
sudo systemctl start mongod
```

### 5. ุชุดุบูู ุงูุฎุงุฏู
```bash
# ุจูุฆุฉ ุงูุชุทููุฑ
npm run dev

# ุจูุฆุฉ ุงูุฅูุชุงุฌ
npm start
```

## ๐ ุชูุซูู API

ุจุนุฏ ุชุดุบูู ุงูุฎุงุฏูุ ููููู ุงููุตูู ุฅูู ุชูุซูู API ุนูู:
```
http://localhost:3001/api-docs
```

## ๐๏ธ ูููู ุงููุดุฑูุน

```
ahcp-backend/
โโโ src/
โ   โโโ models/           # ููุงุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โ   โโโ User.js
โ   โ   โโโ Client.js
โ   โ   โโโ ParasiteControl.js
โ   โ   โโโ Vaccination.js
โ   โ   โโโ MobileClinic.js
โ   โ   โโโ EquineHealth.js
โ   โ   โโโ Laboratory.js
โ   โโโ routes/           # ูุณุงุฑุงุช API
โ   โ   โโโ auth.js
โ   โ   โโโ clients.js
โ   โ   โโโ parasiteControl.js
โ   โ   โโโ vaccination.js
โ   โ   โโโ mobileClinics.js
โ   โ   โโโ equineHealth.js
โ   โ   โโโ laboratories.js
โ   โ   โโโ reports.js
โ   โ   โโโ upload.js
โ   โโโ middleware/       # Middleware
โ   โ   โโโ auth.js
โ   โ   โโโ validation.js
โ   โ   โโโ errorHandler.js
โ   โ   โโโ notFound.js
โ   โโโ server.js         # ููุทุฉ ุฏุฎูู ุงูุชุทุจูู
โโโ uploads/              # ูุฌูุฏ ุงููููุงุช ุงููุฑููุนุฉ
โโโ .env.example          # ูุซุงู ุนูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ package.json
โโโ README.md
```

## ๐ ูุธุงู ุงููุตุงุฏูุฉ

### ุงูุฃุฏูุงุฑ ุงููุชุงุญุฉ:
- **super_admin**: ูุฏูุฑ ุนุงู - ุตูุงุญูุงุช ูุงููุฉ
- **section_supervisor**: ูุดุฑู ูุณู - ุฅุฏุงุฑุฉ ุงููุณู
- **field_worker**: ุนุงูู ููุฏุงูู - ุฅุฏุฎุงู ุงูุจูุงูุงุช

### endpoints ุงููุตุงุฏูุฉ:
```
POST /api/auth/register     # ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
POST /api/auth/login        # ุชุณุฌูู ุงูุฏุฎูู
GET  /api/auth/me          # ุงูุญุตูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
PUT  /api/auth/update-profile  # ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู
PUT  /api/auth/change-password # ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
```

## ๐ ุงููุญุฏุงุช ุงูุฑุฆูุณูุฉ

### 1. ุฅุฏุงุฑุฉ ุงูุนููุงุก ูุงููุฑุจููู
```
GET    /api/clients         # ูุงุฆูุฉ ุงูุนููุงุก
POST   /api/clients         # ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ
GET    /api/clients/:id     # ุชูุงุตูู ุนููู
PUT    /api/clients/:id     # ุชุญุฏูุซ ุจูุงูุงุช ุนููู
DELETE /api/clients/:id     # ุญุฐู ุนููู
```

### 2. ููุงูุญุฉ ุงูุทููููุงุช
```
GET    /api/parasite-control         # ูุงุฆูุฉ ุงูุณุฌูุงุช
POST   /api/parasite-control         # ุฅุถุงูุฉ ุณุฌู ุฌุฏูุฏ
GET    /api/parasite-control/:id     # ุชูุงุตูู ุณุฌู
PUT    /api/parasite-control/:id     # ุชุญุฏูุซ ุณุฌู
DELETE /api/parasite-control/:id     # ุญุฐู ุณุฌู
GET    /api/parasite-control/statistics  # ุฅุญุตุงุฆูุงุช
```

### 3. ุงูุชุญุตููุงุช
```
GET    /api/vaccination         # ูุงุฆูุฉ ุณุฌูุงุช ุงูุชุญุตูู
POST   /api/vaccination         # ุฅุถุงูุฉ ุณุฌู ุชุญุตูู
GET    /api/vaccination/:id     # ุชูุงุตูู ุณุฌู ุงูุชุญุตูู
PUT    /api/vaccination/:id     # ุชุญุฏูุซ ุณุฌู ุงูุชุญุตูู
DELETE /api/vaccination/:id     # ุญุฐู ุณุฌู ุงูุชุญุตูู
```

### 4. ุงูุนูุงุฏุงุช ุงููุชูููุฉ
```
GET    /api/mobile-clinics         # ูุงุฆูุฉ ุณุฌูุงุช ุงูุนูุงุฏุงุช
POST   /api/mobile-clinics         # ุฅุถุงูุฉ ุณุฌู ุนูุงุฏุฉ
GET    /api/mobile-clinics/:id     # ุชูุงุตูู ุณุฌู ุงูุนูุงุฏุฉ
PUT    /api/mobile-clinics/:id     # ุชุญุฏูุซ ุณุฌู ุงูุนูุงุฏุฉ
DELETE /api/mobile-clinics/:id     # ุญุฐู ุณุฌู ุงูุนูุงุฏุฉ
```

### 5. ุตุญุฉ ุงูุฎููู
```
GET    /api/equine-health         # ูุงุฆูุฉ ุณุฌูุงุช ุตุญุฉ ุงูุฎููู
POST   /api/equine-health         # ุฅุถุงูุฉ ุณุฌู ุฌุฏูุฏ
GET    /api/equine-health/:id     # ุชูุงุตูู ุงูุณุฌู
PUT    /api/equine-health/:id     # ุชุญุฏูุซ ุงูุณุฌู
DELETE /api/equine-health/:id     # ุญุฐู ุงูุณุฌู
```

### 6. ุงููุฎุชุจุฑุงุช
```
GET    /api/laboratories         # ูุงุฆูุฉ ุงูุนููุงุช ูุงููุญูุตุงุช
POST   /api/laboratories         # ุฅุถุงูุฉ ุนููุฉ ุฌุฏูุฏุฉ
GET    /api/laboratories/:id     # ุชูุงุตูู ุงูุนููุฉ
PUT    /api/laboratories/:id     # ุชุญุฏูุซ ุจูุงูุงุช ุงูุนููุฉ
PUT    /api/laboratories/:id/results  # ุชุญุฏูุซ ูุชุงุฆุฌ ุงููุญุต
DELETE /api/laboratories/:id     # ุญุฐู ุณุฌู ุงูุนููุฉ
```

### 7. ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช
```
GET /api/reports/dashboard    # ุฅุญุตุงุฆูุงุช ููุญุฉ ุงูุชุญูู
GET /api/reports/monthly      # ุชูุฑูุฑ ุดูุฑู
GET /api/reports/export       # ุชุตุฏูุฑ ุงูุจูุงูุงุช
```

### 8. ุฑูุน ุงููููุงุช
```
POST /api/upload/:type        # ุฑูุน ูููุงุช ุญุณุจ ุงูููุน
POST /api/upload/avatar       # ุฑูุน ุตูุฑุฉ ุงููุณุชุฎุฏู
POST /api/upload/import/csv   # ุงุณุชูุฑุงุฏ ุจูุงูุงุช ูู CSV
GET  /api/upload/files        # ูุงุฆูุฉ ุงููููุงุช ุงููุฑููุนุฉ
DELETE /api/upload/files/:filename  # ุญุฐู ููู
```

## ๐ ุงูุฃูุงู

### ุงูุญูุงูุฉ ุงููุทุจูุฉ:
- **JWT Authentication**: ูุตุงุฏูุฉ ุจุงุณุชุฎุฏุงู JSON Web Tokens
- **Rate Limiting**: ุชุญุฏูุฏ ุนุฏุฏ ุงูุทูุจุงุช ููู IP
- **Helmet**: ุญูุงูุฉ HTTP headers
- **CORS**: ุงูุชุญูู ูู ุงููุตูู ุนุจุฑ ุงููุตุงุฏุฑ
- **Input Validation**: ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
- **Password Hashing**: ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู bcrypt
- **File Upload Security**: ููุชุฑุฉ ุฃููุงุน ุงููููุงุช ูุญุฌููุง

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ

### ุงูุฅุญุตุงุฆูุงุช ุงููุชุงุญุฉ:
- ุฅุญุตุงุฆูุงุช ุงูุนููุงุก ูุงูุญููุงูุงุช
- ูุนุฏูุงุช ุงูุนูุงุฌ ูุงูุชุญุตูู
- ุฅุญุตุงุฆูุงุช ุงููุฎุชุจุฑุงุช ููุชุงุฆุฌ ุงููุญูุตุงุช
- ุชูุงุฑูุฑ ุงูุฃุฏุงุก ุงูุดูุฑูุฉ ูุงูุณูููุฉ
- ุฅุญุตุงุฆูุงุช ุงูุฃูุดุทุฉ ุงูุญุฏูุซุฉ

### ุชุตุฏูุฑ ุงูุจูุงูุงุช:
- ุชุตุฏูุฑ CSV ูุฌููุน ุงููุญุฏุงุช
- ุชุตุฏูุฑ JSON ููุจูุงูุงุช ุงููุงููุฉ
- ุชูุงุฑูุฑ ูุฎุตุตุฉ ุญุณุจ ุงูุชุงุฑูุฎ ูุงููุฆุฉ

## ๐จ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

ุงููุธุงู ูุชุถูู ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก:
- ุฃุฎุทุงุก ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ุฃุฎุทุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฃุฎุทุงุก ุงููุตุงุฏูุฉ ูุงูุชูููุถ
- ุฃุฎุทุงุก ุฑูุน ุงููููุงุช
- ุฃุฎุทุงุก ุงูุดุจูุฉ ูุงูุงุชุตุงู

## ๐งช ุงูุงุฎุชุจุงุฑ

```bash
# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
npm test

# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ูุน ุงูุชุบุทูุฉ
npm run test:coverage
```

## ๐ฆ ุงููุดุฑ

### 1. ุฅุนุฏุงุฏ ุจูุฆุฉ ุงูุฅูุชุงุฌ
```bash
# ุชุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
NODE_ENV=production
MONGODB_URI=your-production-mongodb-uri
JWT_SECRET=your-production-jwt-secret
```

### 2. ุจูุงุก ุงูุชุทุจูู
```bash
npm run build
```

### 3. ุชุดุบูู ุงูุฅูุชุงุฌ
```bash
npm start
```

## ๐ค ุงููุณุงููุฉ

1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ branch ููููุฒุฉ ุงูุฌุฏูุฏุฉ (`git checkout -b feature/AmazingFeature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add some AmazingFeature'`)
4. Push ุฅูู ุงูุจranch (`git push origin feature/AmazingFeature`)
5. ุงูุชุญ Pull Request

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT - ุงูุธุฑ ููู [LICENSE](LICENSE) ููุชูุงุตูู.

## ๐ ุงูุฏุนู

ููุฏุนู ูุงูุงุณุชูุณุงุฑุงุช:
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@ahcp.com
- ุงูุชูุซูู: http://localhost:3001/api-docs
- ุงูุตุญุฉ: http://localhost:3001/health

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

- [ ] ุฅุถุงูุฉ WebSocket ููุชุญุฏูุซุงุช ุงููุจุงุดุฑุฉ
- [ ] ุชุทุจูู GraphQL API
- [ ] ุฅุถุงูุฉ ูุธุงู ุงูุฅุดุนุงุฑุงุช
- [ ] ุชุญุณูู ุงูุฃุฏุงุก ูุงูุชุฎุฒูู ุงููุคูุช
- [ ] ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ
- [ ] ุฏุนู ุงูุชุทุจููุงุช ุงููุญูููุฉ
